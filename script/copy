#!/usr/bin/env bash

if [ -z "$1" ]; then
  echo "Usage: copy <filename>"
  exit 1
fi

if [ ! -f "$1" ]; then
  echo "Error: File '$1' not found."
  exit 1
fi

if command -v pbcopy &> /dev/null; then
    COPY_CMD="pbcopy"
elif command -v xclip &> /dev/null; then
    COPY_CMD="xclip -selection clipboard"
elif command -v xsel &> /dev/null; then
    COPY_CMD="xsel --clipboard --input"
elif command -v wl-copy &> /dev/null; then
    COPY_CMD="wl-copy"
elif command -v termux-clipboard-set &> /dev/null; then
    COPY_CMD="termux-clipboard-set"
elif command -v clip.exe &> /dev/null; then
    COPY_CMD="clip.exe"
else
    echo "Error: No supported clipboard tool found."
    exit 1
fi

cat "$1" | $COPY_CMD
echo "Contents of '$1' copied to clipboard using $COPY_CMD."
