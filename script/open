  # where to list from; here "." means the current directory
  local path="."
  local items=()         # will hold the full paths
  local index=1

  echo "📂 Listing: $path"
  for item in "$path"/*; do
    items+=("$item")
    printf "%2d) %s\n" "$index" "$(basename "$item")"
    index=$((index + 1))
  done

  echo
  read -p "Open — Type number from above: " choice

  # validate input
  if ! [[ "$choice" =~ ^[0-9]+$ ]] \
     || [ "$choice" -lt 1 ] \
     || [ "$choice" -gt "${#items[@]}" ]; then
    echo "Invalid selection." >&2
    return 1
  fi

  selected="${items[$((choice - 1))]}"

  if [ -d "$selected" ]; then
    echo
    echo "📁 Directory — listing contents:"
    ls "$selected"
  elif [ -f "$selected" ]; then
    echo
    echo "📄 File — opening with nano:"
    nano "$selected"
  else
    echo "❓ Neither file nor directory!" >&2
    return 1
  fi
